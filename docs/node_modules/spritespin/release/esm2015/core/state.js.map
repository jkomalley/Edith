{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../src/core/state.ts"],"names":[],"mappings":"AAEA;;;;;GAKG;AACH,MAAM,mBAA4B,IAAU,EAAE,IAAY;IACxD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;IAC7B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAA;IACzC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;AACzB,CAAC;AAED;;;;;;;;;;GAUG;AACH,MAAM,yBAAkC,IAAU,EAAE,IAAY;IAC9D,MAAM,KAAK,GAAG,QAAQ,CAAI,IAAI,EAAE,QAAQ,CAAC,CAAA;IACzC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAA;IAC/B,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;AACpB,CAAC;AAED;;;;;;GAMG;AACH,MAAM,aAAa,IAAU,EAAE,GAAW;IACxC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAA;AACvC,CAAC;AAED;;;;;;;GAOG;AACH,MAAM,eAAe,IAAU,EAAE,GAAW,EAAE,KAAc;IAC1D,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAA;AACxC,CAAC","sourcesContent":["import { Data } from './models'\n\n/**\n * Gets a state object by name.\n * @internal\n * @param data - The SpriteSpin instance data\n * @param name - The name of the state object\n */\nexport function getState<T = any>(data: Data, name: string): T {\n  data.state = data.state || {}\n  data.state[name] = data.state[name] || {}\n  return data.state[name]\n}\n\n/**\n * Gets a plugin state object by name.\n *\n * @remarks\n * Plugins should use this method to get or create a state object where they can\n * store any instance variables.\n *\n * @public\n * @param data - The SpriteSpin instance data\n * @param name - The name of the plugin\n */\nexport function getPluginState<T = any>(data: Data, name: string): T {\n  const state = getState<T>(data, 'plugin')\n  state[name] = state[name] || {}\n  return state[name]\n}\n\n/**\n * Checks whether a flag is set. See {@link flag}.\n *\n * @public\n * @param data - The SpriteSpin instance data\n * @param key - The name of the flag\n */\nexport function is(data: Data, key: string): boolean {\n  return !!getState(data, 'flags')[key]\n}\n\n/**\n * Sets a flag value. See {@link is}.\n *\n * @public\n * @param data - The SpriteSpin instance data\n * @param key - The name of the flag\n * @param value - The value to set\n */\nexport function flag(data: Data, key: string, value: boolean) {\n  getState(data, 'flags')[key] = !!value\n}\n"]}